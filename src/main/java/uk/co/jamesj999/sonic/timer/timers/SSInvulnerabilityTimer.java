package uk.co.jamesj999.sonic.timer.timers;

import uk.co.jamesj999.sonic.game.sonic2.specialstage.Sonic2SpecialStagePlayer;
import uk.co.jamesj999.sonic.timer.AbstractTimer;

/**
 * Timer for special stage player invulnerability after being hit.
 * Matches original game behavior: 0x1E (30) frames of invulnerability
 * after the hurt animation completes.
 */
public class SSInvulnerabilityTimer extends AbstractTimer {
    private final Sonic2SpecialStagePlayer player;

    public SSInvulnerabilityTimer(String code, int ticks, Sonic2SpecialStagePlayer player) {
        super(code, ticks);
        this.player = player;
    }

    @Override
    public boolean perform() {
        // Timer completed - clear invulnerability
        player.clearInvulnerability();
        return true;
    }
}
